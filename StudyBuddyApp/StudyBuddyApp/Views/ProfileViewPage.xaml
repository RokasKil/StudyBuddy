<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:d="http://xamarin.com/schemas/2014/forms/design"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d"
             x:Class="StudyBuddyApp.Views.ProfileViewPage"
             Title="{Binding Title}"
             Appearing="ContentPage_Appearing">
    <ContentPage.Content>
        <StackLayout>
            <Frame Padding="0"
                   CornerRadius="75"
                   IsClippedToBounds="True"
                   HorizontalOptions="Center"
                   HeightRequest="150"
                   WidthRequest="150"
                   Margin="6, 0">
                <Image
                x:Name="ProfilePicture"
                Aspect="AspectFill"
                VerticalOptions="Fill"
                HorizontalOptions="Center"
                WidthRequest="150"
                HeightRequest="150">
                    <Image.Source>
                        <UriImageSource Uri="{Binding ImageLocation}" 
			                    CacheValidity="14" 
			                    CachingEnabled="true"/>
                    </Image.Source>
                </Image>
            </Frame>
            
            
            
            <Label
                Text="{Binding KarmaDescription}"
                HorizontalOptions="Center"/>
            <ProgressBar
                x:Name="ProgressBarKarma"
                Progress="{Binding KarmaPointsForBar}"/>
            <Label
                x:Name="labelFullName"
                Text="{Binding FullName}"
                VerticalOptions="CenterAndExpand" 
                HorizontalOptions="CenterAndExpand"/>
            <Label 
                x:Name="labelUserName"
                Text="{Binding UserName}"
                VerticalOptions="CenterAndExpand" 
                HorizontalOptions="CenterAndExpand"/>
            <Button
                x:Name="StartConversation"
                Clicked="StartConversation_Clicked"
                Text="Parašyti žinutę"
                ContentLayout="Left,10" Image="@drawable/ic_chat"
                CornerRadius="7"
                TextColor="White"
                WidthRequest="250"
                HorizontalOptions="Center"/>
            <Button
                x:Name="ViewUserReviews"
                Clicked="ViewUserReviews_Clicked"
                Text="Atsiliepimai"
                ContentLayout="Left,10" Image="@drawable/ic_list"
                CornerRadius="7"
                TextColor="White"
                WidthRequest="250"
                HorizontalOptions="Center"/>
            <Button
                x:Name="WriteUserReview"
                Clicked="WriteUserReview_Clicked"
                Text="Parašyti atsiliepimą"
                ContentLayout="Left,10" Image="@drawable/ic_edit"
                CornerRadius="7"
                TextColor="White"
                WidthRequest="250"
                HorizontalOptions="Center"/>

            <ActivityIndicator x:Name="LoadingIndicator"/>
        </StackLayout>
    </ContentPage.Content>
</ContentPage>